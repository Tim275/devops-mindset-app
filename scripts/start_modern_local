#!/bin/bash
echo "ðŸš€ Starting Modernized Services Locally with uv..."
eval "$(mise activate bash)"

# Backend
echo "Starting modernized backend on port 22112..."
cd src/backend
uv run study-tracker-api &
BACKEND_PID=$!

# Frontend
echo "Starting modernized frontend on port 22111..."
cd ../frontend
uv run study-tracker-frontend &
FRONTEND_PID=$!

cd ../..

echo ""
echo "âœ… Modernized services running:"
echo "   Backend:  http://localhost:22112"
echo "   Frontend: http://localhost:22111"
echo ""
echo "ðŸ’¡ Press Ctrl+C to stop services"

# Wait for interrupt
trap "echo 'ðŸ›‘ Stopping services...'; kill $BACKEND_PID $FRONTEND_PID 2>/dev/null; exit" INT
wait

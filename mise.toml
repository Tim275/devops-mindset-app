# mise.toml
[tools]
python = "3.13"        # ğŸ Latest Python version
uv = "latest"          # âš¡ Ultra-fast package management (10-100x faster)
ruff = "latest"        # ğŸ§¹ Code quality & formatting
pre-commit = "latest"  # ğŸ›¡ï¸ Automated quality gates
gh = "latest"          # ğŸ™ GitHub CLI integration
trivy = "latest"       # ğŸ” Security vulnerability scanner
kubectl = "latest"     # âš“ Kubernetes CLI
k3d = "latest"         # â˜¸ï¸ Local Kubernetes clusters
k9s = "latest"         # ğŸ“Š Kubernetes dashboard TUI

[env]
APP_REPO = 'devops-projekt'
GH_REPO = 'devops-projekt'

[settings]
python.uv_venv_auto = true
idiomatic_version_file_enable_tools = ["python"]
experimental = true

[tasks.e2e-setup]
description = "Setup E2E testing"
run = """
cd kubernetes
uv sync
"""

[tasks.e2e-test]
description = "Run E2E tests"
run = """
cd kubernetes
uv run python e2e_test.py
"""


[hooks]
enter = """
echo 'ğŸ¯ DevOps Environment Ready!'
echo ''
echo 'ğŸ”§ Tools installed: ğŸ python âš¡ uv ğŸ³ docker â˜¸ï¸ k3d âš“ kubectl ğŸ“Š k9s'
echo ''
echo 'â“ What do you want to do?'
echo '  1ï¸âƒ£  Start services:     ğŸ³ docker compose up --build'
echo '  2ï¸âƒ£  Create K8s cluster: â˜¸ï¸ k3d cluster create devops-study'
echo '  3ï¸âƒ£  View cluster:       âš“ kubectl get nodes'
echo '  4ï¸âƒ£  Open K8s dashboard: ğŸ“Š k9s'
echo '  5ï¸âƒ£  Local development:  ğŸš€ scripts/start_modern_local'
echo ''
"""
# mise.toml
[tools]
python = "3.13"        # 🐍 Latest Python version
uv = "latest"          # ⚡ Ultra-fast package management (10-100x faster)
ruff = "latest"        # 🧹 Code quality & formatting
pre-commit = "latest"  # 🛡️ Automated quality gates
gh = "latest"          # 🐙 GitHub CLI integration
trivy = "latest"       # 🔍 Security vulnerability scanner
kubectl = "latest"     # ⚓ Kubernetes CLI
k3d = "latest"         # ☸️ Local Kubernetes clusters
k9s = "latest"         # 📊 Kubernetes dashboard TUI

[env]
APP_REPO = 'devops-projekt'
GH_REPO = 'devops-projekt'

[settings]
python.uv_venv_auto = true
idiomatic_version_file_enable_tools = ["python"]
experimental = true

[tasks.e2e-setup]
description = "Setup E2E testing"
run = """
cd kubernetes
uv sync
"""

[tasks.e2e-test]
description = "Run E2E tests"
run = """
cd kubernetes
uv run python e2e_test.py
"""


[hooks]
enter = """
echo '🎯 DevOps Environment Ready!'
echo ''
echo '🔧 Tools installed: 🐍 python ⚡ uv 🐳 docker ☸️ k3d ⚓ kubectl 📊 k9s'
echo ''
echo '❓ What do you want to do?'
echo '  1️⃣  Start services:     🐳 docker compose up --build'
echo '  2️⃣  Create K8s cluster: ☸️ k3d cluster create devops-study'
echo '  3️⃣  View cluster:       ⚓ kubectl get nodes'
echo '  4️⃣  Open K8s dashboard: 📊 k9s'
echo '  5️⃣  Local development:  🚀 scripts/start_modern_local'
echo ''
"""